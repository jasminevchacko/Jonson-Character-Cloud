<div class="content-area container-fluid" hash-listener #playnav>
  <div id="play"></div>
  <app-section *ngFor="let section of sections | slice:0:1" [section]="section"></app-section>
  <h2>Characters</h2>

  <div class="container">
    <div class="row">
      <div class="col-xs-12" [style.border]="'solid 1px #ccc'">
          <graph #graph [nodes]="playService.nodes" [links]="playService.links"></graph>
      </div>
    </div>
    <div class="row mt-1">
      <div class="col-xs-3" [style.margin-top]="'.125rem'" *ngFor="let character of playService.characters">
        <app-character-label
          [character]="character"
          [class.selected]="graph.selected?.id === character.name"
          [class.related]="graph.related && !!graph.related[character.name]">
        </app-character-label>
      </div>
    </div>
  </div>



  <app-section *ngFor="let section of sections | slice:1" [section]="section"></app-section>
  <div class="col-xs" [style.height]="'100vh'"></div>

</div>

<nav class="sidenav" [clr-nav-level]="1">
    <section class="sidenav-content" role="navigation" [scrollspy]="playnav">
        <!-- <a class="nav-link" routerLink="." fragment="play">{{title}}</a> -->
        <section class="nav-group" *ngFor="let n of nav">
            <a class="nav-link ml-1" routerLink="." [fragment]="n.section.id">{{n.section.title}}</a>
            <ul class="nav-list">
                <li *ngFor="let subsection of n.children; let j = index ">
                    <a class="nav-link" routerLink="." [fragment]="subsection.id">{{subsection.title}}</a>

                </li>
            </ul>
        </section>
    </section>
</nav>
